{
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "data": {
        "url": "https://api.insa.gov.br/reservatorios/12172/monitoramento",
        "format": {
            "type": "json",
            "property": "volumes",
            "parse": {
                "DataInformacao": "utc:'%d/%m/%Y'"
            }
        },
        "transform": [
            {"calculate": "max.datum.Volume", "as": "Máximo"},
            {"calculate": "min.datum.Volume", "as": "Mínimo"}
        ]
    },
    "width": 680,
    "height": 200,
    "mark": {
        "type": "bar",
        "interpolate": "monotone"
    },
    "selection": {
        "brush": {
            "type": "interval",
            "encodings": ["x"]
        }
    },
    "encoding": {
        "x": {
            "timeUnit": "year",
            "field": "DataInformacao",
            "type": "temporal",
            "axis": {
                "format": "%Y",
                "title": "Volume percentual ao longo dos anos"
            }
        },
        "y": {
            "field": "VolumePercentual",
            "type": "quantitative",
            "axis": {
                "tickCount": 30,
                "grid": false,
                "title": "Volume percentual"
            }
        }
    }
}
